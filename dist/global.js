(()=>{window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let l=document.getElementById("exit-intent");if(!(window.sessionStorage.getItem(`hasFiredPopup_${window.location}`)=="true")&&l){let i=function(s){n||(l.style.display="flex",D(l,250),dataLayer.push({event:"show_exit_intent",dlv_01:s}),n=!0,window.sessionStorage.setItem(`hasFiredPopup_${window.location}`,"true"))};l.style.display="none",l.style.opacity=0,document.addEventListener("mouseleave",s=>{s.clientY<0&&o>8e3&&i("exit_page")});let e=.75,t=5e3,o=0,n=!1,r=setInterval(()=>{o+=t,o>=e*6e4&&!n&&(i("time_on_page"),n=!0,clearInterval(r))},t)}let d=document.querySelector("#wf-form-audit-popup-step-1");d&&(d.addEventListener("submit",e=>{e.preventDefault();let t=d.querySelector("#email").value;document.querySelectorAll('input[name="audit_email_identifier"]').forEach(n=>{n.value=t});let o=y();document.querySelector("#audit_completion_date").textContent=h(o),document.querySelector(".modal_step2").style.display="block"}),document.getElementById("wf-form-audit-popup-step-2").addEventListener("submit",()=>{document.querySelector(".modal_step3").style.display="block"}),document.getElementById("wf-form-audit-popup-step-3").addEventListener("submit",()=>{document.querySelector(".modal_step4").style.display="block"}));function y(){let e=new Date,t=new Date(e.getTime()+48*60*60*1e3);for(;t.getDay()===0||t.getDay()===6;)t.setDate(t.getDate()+1);return t}function h(e){let t=["January","February","March","April","May","June","July","August","September","October","November","December"],o=e.getDate(),n=t[e.getMonth()],r="th";return o===1||o===21||o===31?r="st":o===2||o===22?r="nd":(o===3||o===23)&&(r="rd"),`${n} ${o}${r}`}let g=new Map([["utm_source",""],["utm_medium",""],["utm_campaign",""],["utm_term",""],["utm_content",""]]),a=new URLSearchParams(window.location.search),m={},u={},w=e=>{let t={day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};return new Intl.DateTimeFormat("en-US",t).format(e)};for(let[e,t]of g)if(a.has(e)){let o=a.get(e);m[e]=o,localStorage.getItem(`first_${e}`)||(u[`first_${e}`]=o)}if(a.has("gclid")){let e=a.get("gclid");m.gclid=e,localStorage.getItem("first_gclid")||(u.first_gclid=e)}localStorage.getItem("first_page_url")||(u.first_page_url=window.location.href);let c=(e=>e?new URL(e).hostname:"")(document.referrer),I=()=>a.has("utm_source")?a.get("utm_source"):c?["google","bing","yahoo"].some(e=>c.includes(e))?c.split(".")[1]:c:"direct",S=()=>a.has("utm_medium")?a.get("utm_medium"):a.has("gclid")?"cpc":c?["google","bing","yahoo"].some(e=>c.includes(e))?"organic":"referral":"",p=I(),_=S();if(m.utm_source=p,m.utm_medium=_,localStorage.getItem("first_utm_source")||(u.first_utm_source=p),localStorage.getItem("first_utm_medium")||(u.first_utm_medium=_),!localStorage.getItem("first_touch_timestamp")){let e=new Date;u.first_touch_timestamp=w(e)}Object.entries(m).forEach(([e,t])=>{sessionStorage.setItem(e,t)}),Object.entries(u).forEach(([e,t])=>{localStorage.setItem(e,t)});let v=e=>{g.forEach((r,i)=>{let s=e.querySelector(`input[name=${i}]`);s&&(s.value=sessionStorage.getItem(i)??"");let f=e.querySelector(`input[name=first_${i}]`);f&&(f.value=localStorage.getItem(`first_${i}`)??"")});let t=e.querySelector("input[name=gclid]");t&&(t.value=sessionStorage.getItem("gclid")??"");let o=e.querySelector("input[name=first_gclid]");o&&(o.value=localStorage.getItem("first_gclid")??"");let n=e.querySelector("input[name=first_touch_timestamp]");n&&(n.value=localStorage.getItem("first_touch_timestamp")??"")};(()=>{document.querySelectorAll("form").forEach(v)})();function x(e){let{top:t,bottom:o}=e.getBoundingClientRect();return o<=window.innerHeight&&t>=0}function D(e,t){b(e,0,1,t)}function b(e,t,o,n,r){let i=t,s=(o-t)*50/n,f=setInterval(()=>{i+=s,(s>0&&i>=o||s<0&&i<=o)&&(clearInterval(f),i=o,r&&r()),e.style.opacity=i},50)}});})();
