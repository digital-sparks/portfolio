(()=>{window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let l=document.getElementById("exit-intent");if(!(window.sessionStorage.getItem(`hasFiredPopup_${window.location}`)=="true")&&l){let n=function(r){c||(l.style.display="flex",S(l,250),dataLayer.push({event:"show_exit_intent",dlv_01:r}),c=!0,window.sessionStorage.setItem(`hasFiredPopup_${window.location}`,"true"),i&&clearInterval(i))};l.style.display="none",l.style.opacity=0;let t=window.location.pathname==="/contact";document.addEventListener("mouseleave",r=>{r.clientY<0&&(t||a>5e3)&&n("exit_page")});let e=.75,o=1e3,a=0,c=!1,i=null;t?i=setInterval(()=>{a+=o},o):i=setInterval(()=>{a+=o,a>=e*6e4&&!c&&(n("time_on_page"),c=!0,clearInterval(i))},o),l.querySelectorAll("form").forEach(r=>{r.addEventListener("submit",()=>{l.querySelector(":scope > .modal_close").style.display="none"})})}let g=new Map([["utm_source",""],["utm_medium",""],["utm_campaign",""],["utm_term",""],["utm_content",""]]),s=new URLSearchParams(window.location.search),f={},u={},p=t=>{let e={day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};return new Intl.DateTimeFormat("en-US",e).format(t)};for(let[t,e]of g)if(s.has(t)){let o=s.get(t);f[t]=o,localStorage.getItem(`first_${t}`)||(u[`first_${t}`]=o)}if(s.has("gclid")){let t=s.get("gclid");f.gclid=t,localStorage.getItem("first_gclid")||(u.first_gclid=t)}localStorage.getItem("first_page_url")||(u.first_page_url=window.location.href);let m=(t=>t?new URL(t).hostname:"")(document.referrer),h=()=>s.has("utm_source")?s.get("utm_source"):m?["google","bing","yahoo"].some(t=>m.includes(t))?m.split(".")[1]:m:"direct",I=()=>s.has("utm_medium")?s.get("utm_medium"):s.has("gclid")?"cpc":m?["google","bing","yahoo"].some(t=>m.includes(t))?"organic":"referral":"",d=h(),_=I();if(f.utm_source=d,f.utm_medium=_,localStorage.getItem("first_utm_source")||(u.first_utm_source=d),localStorage.getItem("first_utm_medium")||(u.first_utm_medium=_),!localStorage.getItem("first_touch_timestamp")){let t=new Date;u.first_touch_timestamp=p(t)}Object.entries(f).forEach(([t,e])=>{sessionStorage.setItem(t,e)}),Object.entries(u).forEach(([t,e])=>{localStorage.setItem(t,e)});let w=t=>{g.forEach((c,i)=>{let n=t.querySelector(`input[name=${i}]`);n&&(n.value=sessionStorage.getItem(i)??"");let r=t.querySelector(`input[name=first_${i}]`);r&&(r.value=localStorage.getItem(`first_${i}`)??"")});let e=t.querySelector("input[name=gclid]");e&&(e.value=sessionStorage.getItem("gclid")??"");let o=t.querySelector("input[name=first_gclid]");o&&(o.value=localStorage.getItem("first_gclid")??"");let a=t.querySelector("input[name=first_touch_timestamp]");a&&(a.value=localStorage.getItem("first_touch_timestamp")??"")};(()=>{document.querySelectorAll("form").forEach(w)})();function D(t){let{top:e,bottom:o}=t.getBoundingClientRect();return o<=window.innerHeight&&e>=0}function S(t,e){y(t,0,1,e)}function y(t,e,o,a,c){let i=e,n=(o-e)*50/a,r=setInterval(()=>{i+=n,(n>0&&i>=o||n<0&&i<=o)&&(clearInterval(r),i=o,c&&c()),t.style.opacity=i},50)}});})();
